<!doctype html><html lang='en'><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>Chess • Play</title><style>
:root{--pill:linear-gradient(90deg,#ff6b00,#ff3b3b);--bg1:#0b0b0f;--bg2:#1a0a07;--bg3:#350f06}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:"Comic Sans MS","Comic Sans",cursive;color:#fff;
background: radial-gradient(1200px 700px at 50% 110%, #ff9f1a40, transparent 60%), linear-gradient(120deg, var(--bg1), var(--bg2) 40%, var(--bg3));}
.wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:6vh 24px;text-align:center}
.grid{display:grid;gap:16px;width:min(1400px,95vw);margin:16px auto;grid-template-columns:repeat(1,minmax(280px,1fr))}
.pill-btn{display:block;text-decoration:none;color:#fff;font-weight:800;background:var(--pill);border-radius:999px;padding:16px 24px;box-shadow:0 8px 18px #0008;transition:.12s;width:60%;margin-inline:auto;text-align:center;cursor:pointer;border:none}
.pill-btn:hover{transform:translateY(-1px);box-shadow:0 12px 24px #000a;filter:brightness(1.03)}
.back{position:fixed;left:16px;top:16px;background:#2a1b12;border:1px solid #ffffff1a;color:#fff;padding:8px 12px;border-radius:999px;text-decoration:none}
.card{background:#1a0f0a;border:1px solid #ffffff1a;border-radius:16px;padding:16px;margin:12px auto;text-align:left}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.progress{height:10px;background:#2a1b12;border-radius:999px;overflow:hidden;border:1px solid #ffffff1a;margin-top:8px}
.bar{height:100%;width:0;background:#ffd166}
small.hint{opacity:.8;color:#ffd9b3}
</style></head><body><a class='back' href='./'>← Back</a>
<style>html,body{overflow:hidden}.board-wrap{height:100vh;width:100vw;display:grid;place-items:center;padding:6vmin}
.board{width:min(96vmin,96vw);height:min(96vmin,96vh);display:grid;grid-template-columns:repeat(8,1fr);grid-template-rows:repeat(8,1fr);border-radius:16px;overflow:hidden;box-shadow:0 10px 24px #000a,inset 0 0 0 2px #ffffff18}
.square{display:grid;place-items:center;font-size:calc(min(96vmin,96vw)/8*.7)} .dark{background:#b58863}.light{background:#f0d9b5} .piece.white{color:#fff;text-shadow:0 0 3px #000}.piece.black{color:#111;text-shadow:0 0 2px #fff7}</style>
<div class="board-wrap"><div id="board" class="board"></div></div>
<script>
var board=[], whiteToMove=true;
var W={'P':'♙','R':'♖','N':'♘','B':'♗','Q':'♕','K':'♔'};
var B={'p':'♟','r':'♜','n':'♞','b':'♝','q':'♛','k':'♚'};
function start(){board=[['r','n','b','q','k','b','n','r'],['p','p','p','p','p','p','p','p'],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],['P','P','P','P','P','P','P','P'],['R','N','B','Q','K','B','N','R']];whiteToMove=true;}
function inB(r,c){return r>=0&&r<8&&c>=0&&c<8} function isW(p){return p&&p===p.toUpperCase()} function isB_(p){return p&&p===p.toLowerCase()}
function gen(r,c){var p=board[r][c]; if(!p) return []; var me=isW(p); var M=[]; function add(rr,cc){if(!inB(rr,cc))return; var t=board[rr][cc]; if(t===null||(me?isB_(t):isW(t)))M.push([rr,cc]);}
  var t=p.toUpperCase();
  if(t==='P'){var d=me?-1:1,s=me?6:1; if(inB(r+d,c)&&board[r+d][c]==null){M.push([r+d,c]); if(r===s&&board[r+2*d][c]==null) M.push([r+2*d,c]);} var c1=[[d,-1],[d,1]]; for(var i=0;i<c1.length;i++){var rr=r+c1[i][0],cc=c+c1[i][1]; if(inB(rr,cc)){var tt=board[rr][cc]; if(tt&&(me?isB_(tt):isW(tt)))M.push([rr,cc]);}} }
  else if(t==='N'){var v=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]]; for(var i=0;i<v.length;i++) add(r+v[i][0],c+v[i][1]);}
  else if(t==='B'){var v=[[-1,-1],[-1,1],[1,-1],[1,1]]; for(var i=0;i<v.length;i++){var rr=r+v[i][0],cc=c+v[i][1]; while(inB(rr,cc)){ if(board[rr][cc]==null)M.push([rr,cc]); else { if(me?isB_(board[rr][cc]):isW(board[rr][cc]))M.push([rr,cc]); break;} rr+=v[i][0]; cc+=v[i][1]; }}}
  else if(t==='R'){var v=[[-1,0],[1,0],[0,-1],[0,1]]; for(var i=0;i<v.length;i++){var rr=r+v[i][0],cc=c+v[i][1]; while(inB(rr,cc)){ if(board[rr][cc]==null)M.push([rr,cc]); else { if(me?isB_(board[rr][cc]):isW(board[rr][cc]))M.push([rr,cc]); break;} rr+=v[i][0]; cc+=v[i][1]; }}} 
  else if(t==='Q'){var v=[[-1,0],[1,0],[0,-1],[0,1],[-1,-1],[-1,1],[1,-1],[1,1]]; for(var i=0;i<v.length;i++){var rr=r+v[i][0],cc=c+v[i][1]; while(inB(rr,cc)){ if(board[rr][cc]==null)M.push([rr,cc]); else { if(me?isB_(board[rr][cc]):isW(board[rr][cc]))M.push([rr,cc]); break;} rr+=v[i][0]; cc+=v[i][1]; }}} 
  else if(t==='K'){for(var dr=-1;dr<=1;dr++) for(var dc=-1;dc<=1;dc++) if(dr||dc) add(r+dr,c+dc);}
  return M;
}
function render(){var el=document.getElementById('board'); el.innerHTML=''; for(var rr=7; rr>=0; rr--){ for(var cc=0; cc<8; cc++){ var d=document.createElement('div'); d.className='square '+(((rr+cc)%2)?'dark':'light'); d.setAttribute('data-r',rr); d.setAttribute('data-c',cc); var p=board[rr][cc]; if(p){var s=document.createElement('span'); s.className='piece '+(isW(p)?'white':'black'); s.textContent=(isW(p)?W[p]:B[p]); d.appendChild(s);} el.appendChild(d);} } }
var sel=null; document.addEventListener('click',function(e){ var sq=e.target.closest? e.target.closest('.square'): null; if(!sq) return; var r=+sq.getAttribute('data-r'), c=+sq.getAttribute('data-c'); var p=board[r][c];
  if(p && (whiteToMove? p===p.toUpperCase(): p===p.toLowerCase())){ sel=[r,c]; return; }
  if(sel){ var sr=sel[0], sc=sel[1]; var moves=gen(sr,sc); var legal=false; for(var i=0;i<moves.length;i++){ if(moves[i][0]===r && moves[i][1]===c) {legal=true; break;} }
    if(legal){ var mv=board[sr][sc]; board[r][c]=mv; board[sr][sc]=null; if((mv==='P'&&r===0)||(mv==='p'&&r===7)) board[r][c]=(mv==='P')?'Q':'q'; whiteToMove=!whiteToMove; sel=null; render(); } else { sel=null; } }
});
start(); render();
</script>
</body></html>