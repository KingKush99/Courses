:root{
  --bg:#0e0b09; --fg:#f6eadf; --card:#1a120e; --muted:#ffffff22; --accent:#ff6b00;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--fg);
  font-family:'Comic Sans MS','Comic Sans',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background: radial-gradient(1200px 700px at 80% 100%, #3a0d00 0%, #0e0b09 40%, #0b0908 100%);
}
.wrap{max-width:1100px; margin:0 auto; padding:84px 14px 114px}
.card{background:var(--card); border:1px solid var(--muted); border-radius:16px; box-shadow:0 10px 40px #0008; padding:18px}
.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.pill-btn{border:none; border-radius:999px; padding:10px 16px; background:linear-gradient(45deg,#ff6b00,#ff3b3b); color:#fff; font-weight:800; cursor:pointer; box-shadow:0 3px 10px #0008; display:inline-flex; align-items:center; gap:8px}
.pill-btn:hover{filter:brightness(1.06)}
.badge{display:inline-block; padding:.3em .6em; border-radius:999px; border:1px solid var(--muted); background:#211611}

/* Non-overlapping courses grid + column picker */
.courses{display:grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap:12px; align-items:stretch}
.courses .pill-btn{width:100%; justify-content:center}
.courses.cols-1{grid-template-columns: 1fr}
.courses.cols-2{grid-template-columns: repeat(2, minmax(200px, 1fr))}
.courses.cols-4{grid-template-columns: repeat(4, minmax(160px, 1fr))}
.columns-picker{display:flex; gap:8px; justify-content:center; margin-top:14px}
.columns-picker .pill-btn{padding:8px 12px}

/* Corner controls */
.corner{position:fixed; z-index:40; width:46px; height:46px; border-radius:999px; display:grid; place-items:center; box-shadow:0 6px 22px #0009}
.corner.top-left{left:12px; top:12px}
.corner.top-left.back{left:12px; top:62px}
.corner.top-right{right:12px; top:12px}
.corner.bot-left{left:12px; bottom:12px}
.corner.bot-right{right:12px; bottom:12px}

/* Drawers & modals (drop/fade) */
.drawer,.chat,#slots-modal{transition:transform .18s ease, opacity .18s ease}
.drawer{position:fixed; inset:66px 12px auto auto; width:340px; max-width:92vw; background:var(--card); border:1px solid var(--muted); border-radius:16px; box-shadow:0 14px 50px #000a; display:none; z-index:50; transform:translateY(-6px); opacity:0}
.drawer.open{display:block; transform:translateY(0); opacity:1}
.drawer .section{padding:12px 14px; border-top:1px solid var(--muted)}
.drawer h3{margin:.2em 0 .4em 0}
.menu-grid{display:grid; grid-template-columns:1fr 1fr; gap:10px}
.btn-tile{display:block; padding:12px 14px; border-radius:12px; background:#291b14; border:1px solid var(--muted); text-align:center}

/* Mini-slots (drop-up) */
#slots-modal{position:fixed; inset:auto 12px 66px auto; width:420px; max-width:95vw; background:var(--card); border:1px solid var(--muted); border-radius:16px; box-shadow:0 14px 50px #000a; display:none; z-index:50; transform:translateY(8px); opacity:0}
#slots-modal.open{display:block; transform:translateY(0); opacity:1}
.reels{display:flex; gap:12px; align-items:center; justify-content:center; padding:12px}
.reel{width:72px; height:72px; display:grid; place-items:center; border-radius:12px; background:#201511; border:1px solid var(--muted); box-shadow:inset 0 8px 18px #0008; font-size:30px}
.spin-btn{position:absolute; width:72px; height:72px; border-radius:999px; display:grid; place-items:center; font-weight:900; box-shadow:inset 0 8px 0 #fff3, 0 10px 20px #000a}
.spin-wrap{position:relative; width:100%; height:0; padding-bottom:0}
/* Lever */
.lever-wrap{position:absolute; right:16px; top:60px; width:40px; height:160px; perspective:500px}
.lever-stick{position:absolute; right:10px; top:10px; width:8px; height:120px; background:#cfcfcf; border-radius:6px; box-shadow:inset 0 -6px 10px #0007; transform-origin:top center; transform:translateZ(0) rotateX(0deg)}
.lever-knob{position:absolute; right:-8px; top:0; width:34px; height:34px; border-radius:999px; background:#ff7a00; box-shadow:inset 0 8px 0 #fff3, 0 10px 18px #000a}
.lever-pull{cursor:pointer}
.config{display:flex; gap:10px; padding:8px 12px}
.select{background:#291b14; border:1px solid var(--muted); color:var(--fg); border-radius:10px; padding:8px 10px}

/* Chatbot (drop-up) */
.chat{position:fixed; inset:auto auto 66px 12px; width:360px; max-width:96vw; background:var(--card); border:1px solid var(--muted); border-radius:16px; box-shadow:0 14px 50px #000a; display:none; z-index:50; transform:translateY(8px); opacity:0}
.chat.open{display:block; transform:translateY(0); opacity:1}
.chat .head{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--muted)}
.chat .log{padding:10px; max-height:46vh; overflow:auto}
.chat .entry{display:flex; gap:8px; padding:10px}
.msg{background:#211611; border:1px solid var(--muted); border-radius:12px; padding:8px 10px; margin:8px 0; max-width:85%}
.msg.you{background:#2c1c15}
.lang{margin-left:auto}

/* Game canvas (rugby) */
#stage{position:relative; width:100%; height:70vh; background:linear-gradient(#1c5e1f,#155a1b); border-radius:16px; border:1px solid var(--muted); overflow:hidden}
.hud{display:flex; gap:12px; align-items:center; margin:10px 0}
.hud .pill-btn.sm{padding:6px 10px; font-size:.9em}

/* MCQ two-by-two layout */
.mcq-grid{display:grid; grid-template-columns:repeat(2, minmax(160px, 1fr)); gap:12px; justify-items:center; margin-top:16px}
.mcq-grid .pill-btn{width:100%; justify-content:flex-start}
